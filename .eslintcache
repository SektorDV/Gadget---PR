[{"D:\\_W_robocie\\Gadget\\Żabik_3\\Gadget---PR\\src\\components\\Dashboards\\Main.js":"1","D:\\_W_robocie\\Gadget\\Żabik_3\\Gadget---PR\\src\\components\\Dashboards\\Service.js":"2","D:\\_W_robocie\\Gadget\\Żabik_3\\Gadget---PR\\src\\utils\\API.js":"3","D:\\_W_robocie\\Gadget\\Żabik_3\\Gadget---PR\\src\\index.js":"4","D:\\_W_robocie\\Gadget\\Żabik_3\\Gadget---PR\\src\\utils\\signalr-context.js":"5","D:\\_W_robocie\\Gadget\\Żabik_3\\Gadget---PR\\src\\App.js":"6","D:\\_W_robocie\\Gadget\\Żabik_3\\Gadget---PR\\src\\config.js":"7","D:\\_W_robocie\\Gadget\\Żabik_3\\Gadget---PR\\src\\components\\Home\\Main.js":"8","D:\\_W_robocie\\Gadget\\Żabik_3\\Gadget---PR\\src\\components\\Header.js":"9","D:\\_W_robocie\\Gadget\\Żabik_3\\Gadget---PR\\src\\components\\Dashboards\\MachineDetails\\MachineTile\\MachineTileMobile.js":"10","D:\\_W_robocie\\Gadget\\Żabik_3\\Gadget---PR\\src\\components\\Dashboards\\MachineDetails\\MachineBar\\MachineBar.js":"11","D:\\_W_robocie\\Gadget\\Żabik_3\\Gadget---PR\\src\\components\\Dashboards\\MachineDetails\\Chart.js":"12","D:\\_W_robocie\\Gadget\\Żabik_3\\Gadget---PR\\src\\components\\Dashboards\\MachineDetails\\MachineTile\\MachineTile.js":"13","D:\\_W_robocie\\Gadget\\Żabik_3\\Gadget---PR\\src\\components\\Dashboards\\Logs\\Logs.js":"14","D:\\_W_robocie\\Gadget\\Żabik_3\\Gadget---PR\\src\\reportWebVitals.js":"15","D:\\_W_robocie\\Gadget\\Żabik_3\\Gadget---PR\\src\\components\\Dashboards\\ServiceHeaderMobile.js":"16","D:\\_W_robocie\\Gadget\\Żabik_3\\Gadget---PR\\src\\components\\Dashboards\\RestartModal.js":"17","D:\\_W_robocie\\Gadget\\Żabik_3\\Gadget---PR\\src\\components\\LoginModal.js":"18","D:\\_W_robocie\\Gadget\\Żabik_3\\Gadget---PR\\src\\components\\Dashboards\\MachineDetails\\Label.js":"19"},{"size":6045,"mtime":1611251680859,"results":"20","hashOfConfig":"21"},{"size":2182,"mtime":1611256120786,"results":"22","hashOfConfig":"21"},{"size":2010,"mtime":1611139977473,"results":"23","hashOfConfig":"21"},{"size":684,"mtime":1607351855515,"results":"24","hashOfConfig":"21"},{"size":1098,"mtime":1610548016320,"results":"25","hashOfConfig":"21"},{"size":1337,"mtime":1610548016306,"results":"26","hashOfConfig":"21"},{"size":236,"mtime":1611584796532,"results":"27","hashOfConfig":"21"},{"size":3493,"mtime":1611250612273,"results":"28","hashOfConfig":"21"},{"size":963,"mtime":1611589770303,"results":"29","hashOfConfig":"21"},{"size":960,"mtime":1610658007544,"results":"30","hashOfConfig":"21"},{"size":943,"mtime":1610651386222,"results":"31","hashOfConfig":"21"},{"size":2204,"mtime":1607351855505,"results":"32","hashOfConfig":"21"},{"size":2357,"mtime":1611257846817,"results":"33","hashOfConfig":"21"},{"size":2333,"mtime":1611246386131,"results":"34","hashOfConfig":"21"},{"size":375,"mtime":1607351855515,"results":"35","hashOfConfig":"21"},{"size":545,"mtime":1611073080628,"results":"36","hashOfConfig":"21"},{"size":689,"mtime":1611149786989,"results":"37","hashOfConfig":"21"},{"size":861,"mtime":1611592379264,"results":"38","hashOfConfig":"21"},{"size":279,"mtime":1610548016310,"results":"39","hashOfConfig":"21"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"42"},"oxmjk5",{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"49"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"52","usedDeprecatedRules":"53"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"56","usedDeprecatedRules":"57"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"60","messages":"61","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"62","messages":"63","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"70","messages":"71","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"57"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"57"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"82","usedDeprecatedRules":"57"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"D:\\_W_robocie\\Gadget\\Żabik_3\\Gadget---PR\\src\\components\\Dashboards\\Main.js",["85","86","87","88","89","90"],"import React, { useState, useEffect, useContext } from \"react\";\r\nimport Pagination from \"react-js-pagination\";\r\nimport Service from \"./Service\";\r\nimport ServiceMobile from \"./ServiceMobile\";\r\nimport ServiceHeader from \"./ServiceHeader\";\r\nimport MachineBar from \"./MachineDetails/MachineBar/MachineBar\";\r\nimport \"../Dashboards/MachineDetails/MachineDetails.css\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { useWindowSize } from \"../../Hooks\";\r\nimport { API } from \"../../utils/API\";\r\nimport { SignalRContext } from '../../utils/signalr-context'\r\nimport Logs from '../Dashboards/Logs/Logs'\r\nimport ServiceHeaderMobile from \"./ServiceHeaderMobile\";\r\n\r\n\r\nconst Dashboards = () => {\r\n  const windowSize = useWindowSize();\r\n  const { machineName } = useParams();\r\n  const [machineState, setMachineState] = useState([]);\r\n  const [services, setServices] = useState([]);\r\n  const [connectionState, setConnectionState] = useState(\"\");\r\n  const [machineAddress, setMachineAddress] = useState(\"\");\r\n  const connection = useContext(SignalRContext);\r\n\r\n  useEffect(() => {\r\n    API.fetchServicesList(machineName).then((response) => {\r\n      setServices(response.data);\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (connection !== null) {\r\n      connection.on(\"MachineHealthReceived\", (response) => {\r\n        if (response.agent === machineName) {\r\n          let updated = {};\r\n          updated.cpu = response.cpuPercentUsage;\r\n          updated.ram = Math.floor(100 * (1 - (response.memoryFree / response.memoryTotal)));\r\n          updated.disc = `${Math.floor(response.discOccupied)}/${Math.floor(response.discTotal)}`;\r\n          updated.services = `${response.servicesRunning}/${response.servicesCount}`;\r\n          setMachineState(updated);\r\n        }\r\n      });\r\n    }\r\n  }, [connection]);\r\n\r\n  useEffect(() => {\r\n    if (connection !== null && services.length > 0) {\r\n      connection.on(\"ServiceStatusChanged\", (response) => {\r\n        if (response.agent === machineName) {\r\n          let updated = [...services];\r\n          let indexOfChangedService = updated.findIndex(x => x.name.toLowerCase() === response.name.toLowerCase());\r\n          updated[indexOfChangedService].status = response.status;\r\n          setServices(updated);\r\n        }\r\n      });\r\n    }\r\n  }, [connection, services]);\r\n\r\n\r\n  useEffect(() => {\r\n    API.fetchMachineList().then((response) => {\r\n      let ipAddress = response.data.filter((ms) => ms.name == machineName)[0];\r\n      setMachineAddress(ipAddress.address);\r\n    });\r\n  }, []);\r\n\r\n  const servicesPerPage = 10;\r\n  const [activePage, setActivePage] = useState(1);\r\n\r\n  const handlePageChange = (pageNumber) => {\r\n    setActivePage(pageNumber);\r\n  };\r\n\r\n  // search bar\r\n\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [searchResults, setSearchResults] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const results = services.filter((service) =>\r\n      service.name.toLowerCase().includes(searchTerm.toLowerCase())\r\n    );\r\n    setSearchResults(results);\r\n  }, [searchTerm, services]);\r\n\r\n\r\n  const indexOfLastService = activePage * servicesPerPage;\r\n  const indexOfFirstService = indexOfLastService - servicesPerPage;\r\n  const currentServices = searchResults.slice(\r\n    indexOfFirstService,\r\n    indexOfLastService\r\n  );\r\n  const moreResults = searchResults.length > servicesPerPage;\r\n  if (windowSize <= 768) {\r\n    return (\r\n      <>\r\n        <div>\r\n        <ServiceHeaderMobile\r\n                    setSearchTerm={setSearchTerm}\r\n                    searchTerm={searchTerm}\r\n                    setActivePage={setActivePage}\r\n                />\r\n          {currentServices && currentServices.length > 0 ? (\r\n            currentServices.map((service, index) => {\r\n              return (\r\n                \r\n                //tutaj zamienilem hubConnection na connection ale takie przekazywanie polaczenia przez propsy nie jest potrzebne, teraz mozna uzywac useContext w komponentach\r\n                <ServiceMobile \r\n                  key={index} \r\n                  service={service} \r\n                  index={index} \r\n                  machineName={machineName} \r\n                  connection={connection} \r\n                  connectionState={connectionState} \r\n                />\r\n              )\r\n            })\r\n          ) : (\r\n              <p className=\"warning-text\">No services detected</p>\r\n            )}\r\n\r\n          {moreResults && <Pagination\r\n            activePage={activePage}\r\n            itemsCountPerPage={servicesPerPage}\r\n            totalItemsCount={searchResults.length}\r\n            pageRangeDisplayed={3}\r\n            onChange={handlePageChange}\r\n            prevPageText=\"<\"\r\n            nextPageText=\">\"\r\n            firstPageText=\"..\"\r\n            lastPageText=\"..\"\r\n          />}\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div>\r\n        <MachineBar\r\n          machine={machineName}\r\n          address={machineAddress}\r\n          cpu={machineState.cpu}\r\n          ram={machineState.ram}\r\n          disc={machineState.disc}\r\n          services={machineState.services}\r\n        ></MachineBar>\r\n      </div>\r\n      <ServiceHeader\r\n        setSearchTerm={setSearchTerm}\r\n        searchTerm={searchTerm}\r\n        setActivePage={setActivePage}\r\n      />\r\n\r\n      {currentServices && currentServices.length > 0 ? (\r\n        currentServices.map((service, index) => {\r\n          return <Service key={index} service={service} index={index} agent={machineName} />;\r\n        })\r\n      ) : (\r\n          <p className=\"warning-text\">No services detected</p>\r\n        )}\r\n\r\n      {moreResults && (\r\n        <Pagination\r\n          activePage={activePage}\r\n          itemsCountPerPage={servicesPerPage}\r\n          totalItemsCount={searchResults.length}\r\n          pageRangeDisplayed={3}\r\n          onChange={handlePageChange}\r\n          prevPageText=\"<\"\r\n          nextPageText=\">\"\r\n          firstPageText=\"..\"\r\n          lastPageText=\"..\"\r\n        />\r\n      )}\r\n      <Logs></Logs>\r\n    </div>\r\n    \r\n  );\r\n};\r\n\r\nexport default Dashboards;\r\n","D:\\_W_robocie\\Gadget\\Żabik_3\\Gadget---PR\\src\\components\\Dashboards\\Service.js",[],"D:\\_W_robocie\\Gadget\\Żabik_3\\Gadget---PR\\src\\utils\\API.js",[],"D:\\_W_robocie\\Gadget\\Żabik_3\\Gadget---PR\\src\\index.js",[],["91","92"],"D:\\_W_robocie\\Gadget\\Żabik_3\\Gadget---PR\\src\\utils\\signalr-context.js",["93","94"],"import React, { createContext, useState, useEffect } from 'react';\r\nimport { HubConnectionBuilder, LogLevel, HubConnectionState } from \"@microsoft/signalr\";\r\nimport {SIGNALR_URL} from \"../config\";\r\n\r\n\r\nconst SignalRContext = createContext(null)\r\n\r\nexport { SignalRContext }\r\n\r\nexport default ({ children }) => {\r\n    const [hubConnection, setHubConnection] = useState(null)\r\n\r\n\r\n    useEffect(() => {\r\n        const connection = new HubConnectionBuilder()\r\n            .withUrl(SIGNALR_URL)\r\n            .configureLogging(LogLevel.Critical)\r\n            .withAutomaticReconnect()\r\n            .build()\r\n\r\n        async function start() {\r\n            try {\r\n                await connection.start();\r\n                setHubConnection(connection)\r\n            } catch (err) {\r\n                console.log(err);\r\n                setTimeout(() => start(), 5000);\r\n            }\r\n        };\r\n        connection?.onclose(start);\r\n        start();\r\n    }, [])\r\n\r\n\r\n    return (\r\n        <SignalRContext.Provider value={hubConnection}>\r\n            {children}\r\n        </SignalRContext.Provider>\r\n    )\r\n}",["95","96"],"D:\\_W_robocie\\Gadget\\Żabik_3\\Gadget---PR\\src\\App.js",["97"],"import { BrowserRouter, Switch, Route } from 'react-router-dom';\r\nimport Home from './components/Home/Main';\r\nimport Dashboards from './components/Dashboards/Main';\r\nimport SignalRProvider from './utils/signalr-context'\r\n// import Inbox from './components/Inbox/Main';\r\n// import Products from './components/Products/Main';\r\n// import Invoices from './components/Invoices/Main';\r\nimport Header from './components/Header';\r\n// import Nav from './components/Nav';\r\nconst App = () => {\r\n  return (\r\n    <SignalRProvider>\r\n      <Header />\r\n      <BrowserRouter>\r\n        <div className=\"content-wrapper\">\r\n          {/* <Nav /> */}\r\n          <section className=\"content\">\r\n            <Route exact path=\"/\">\r\n              <Home />\r\n            </Route>\r\n            <Route path=\"/:machineName\">\r\n              <Dashboards />\r\n            </Route>\r\n            {/* <Switch>\r\n              <Route exact path=\"/\" component={Home} />\r\n              <Route path=\"/dashboards\" component={Dashboards} />\r\n              <Route exact path=\"/inbox\" component={Inbox} />\r\n              <Route path=\"/products\" component={Products} />\r\n              <Route exact path=\"/invoices\" component={Invoices} />\r\n            </Switch> */}\r\n          </section>\r\n        </div>\r\n      </BrowserRouter>\r\n    </SignalRProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n",["98","99"],"D:\\_W_robocie\\Gadget\\Żabik_3\\Gadget---PR\\src\\config.js",[],"D:\\_W_robocie\\Gadget\\Żabik_3\\Gadget---PR\\src\\components\\Home\\Main.js",["100"],"D:\\_W_robocie\\Gadget\\Żabik_3\\Gadget---PR\\src\\components\\Header.js",["101"],"D:\\_W_robocie\\Gadget\\Żabik_3\\Gadget---PR\\src\\components\\Dashboards\\MachineDetails\\MachineTile\\MachineTileMobile.js",[],"D:\\_W_robocie\\Gadget\\Żabik_3\\Gadget---PR\\src\\components\\Dashboards\\MachineDetails\\MachineBar\\MachineBar.js",[],"D:\\_W_robocie\\Gadget\\Żabik_3\\Gadget---PR\\src\\components\\Dashboards\\MachineDetails\\Chart.js",[],"D:\\_W_robocie\\Gadget\\Żabik_3\\Gadget---PR\\src\\components\\Dashboards\\MachineDetails\\MachineTile\\MachineTile.js",["102","103","104"],"D:\\_W_robocie\\Gadget\\Żabik_3\\Gadget---PR\\src\\components\\Dashboards\\Logs\\Logs.js",[],"D:\\_W_robocie\\Gadget\\Żabik_3\\Gadget---PR\\src\\reportWebVitals.js",[],"D:\\_W_robocie\\Gadget\\Żabik_3\\Gadget---PR\\src\\components\\Dashboards\\ServiceHeaderMobile.js",[],"D:\\_W_robocie\\Gadget\\Żabik_3\\Gadget---PR\\src\\components\\Dashboards\\RestartModal.js",[],"D:\\_W_robocie\\Gadget\\Żabik_3\\Gadget---PR\\src\\components\\LoginModal.js",["105"],"import React from 'react'\r\nimport {API} from '../utils/API'\r\nimport closeImage from './Home/close.png'\r\n\r\nconst LoginModal = (props)=>{\r\n    return (\r\n            <div className=\"login-modal\">\r\n                <div className=\"login-modal-close-wrapper\">\r\n                        <img className=\"closeImage\" src={closeImage} onClick={props.decline}/>   \r\n                </div>\r\n                <div className=\"login-modal-content-wrapper\">\r\n                    <input type=\"text\" className=\"login-input\" placeholder=\"login\"></input>\r\n                    <input type=\"text\" className=\"login-input\" placeholder=\"password\"></input>\r\n                    <div className=\"log-modal-button\">\r\n                    <p onClick={()=>API.login()}>Log in</p>\r\n                    </div>\r\n                </div>\r\n            </div>    \r\n    )\r\n}\r\n\r\nexport default LoginModal;","D:\\_W_robocie\\Gadget\\Żabik_3\\Gadget---PR\\src\\components\\Dashboards\\MachineDetails\\Label.js",[],{"ruleId":"106","severity":1,"message":"107","line":21,"column":27,"nodeType":"108","messageId":"109","endLine":21,"endColumn":45},{"ruleId":"110","severity":1,"message":"111","line":29,"column":6,"nodeType":"112","endLine":29,"endColumn":8,"suggestions":"113"},{"ruleId":"110","severity":1,"message":"111","line":44,"column":6,"nodeType":"112","endLine":44,"endColumn":18,"suggestions":"114"},{"ruleId":"110","severity":1,"message":"111","line":57,"column":6,"nodeType":"112","endLine":57,"endColumn":28,"suggestions":"115"},{"ruleId":"116","severity":1,"message":"117","line":62,"column":60,"nodeType":"118","messageId":"119","endLine":62,"endColumn":62},{"ruleId":"110","severity":1,"message":"111","line":65,"column":6,"nodeType":"112","endLine":65,"endColumn":8,"suggestions":"120"},{"ruleId":"121","replacedBy":"122"},{"ruleId":"123","replacedBy":"124"},{"ruleId":"106","severity":1,"message":"125","line":2,"column":42,"nodeType":"108","messageId":"109","endLine":2,"endColumn":60},{"ruleId":"126","severity":1,"message":"127","line":10,"column":1,"nodeType":"128","endLine":40,"endColumn":2},{"ruleId":"121","replacedBy":"129"},{"ruleId":"123","replacedBy":"130"},{"ruleId":"106","severity":1,"message":"131","line":1,"column":25,"nodeType":"108","messageId":"109","endLine":1,"endColumn":31},{"ruleId":"121","replacedBy":"132"},{"ruleId":"123","replacedBy":"133"},{"ruleId":"116","severity":1,"message":"117","line":36,"column":61,"nodeType":"118","messageId":"119","endLine":36,"endColumn":63},{"ruleId":"134","severity":1,"message":"135","line":17,"column":17,"nodeType":"136","endLine":17,"endColumn":49},{"ruleId":"110","severity":1,"message":"137","line":30,"column":7,"nodeType":"112","endLine":30,"endColumn":14,"suggestions":"138"},{"ruleId":"106","severity":1,"message":"139","line":37,"column":13,"nodeType":"108","messageId":"109","endLine":37,"endColumn":16},{"ruleId":"134","severity":1,"message":"135","line":72,"column":13,"nodeType":"136","endLine":72,"endColumn":47},{"ruleId":"134","severity":1,"message":"135","line":9,"column":25,"nodeType":"136","endLine":9,"endColumn":95},"no-unused-vars","'setConnectionState' is assigned a value but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'machineName'. Either include it or remove the dependency array.","ArrayExpression",["140"],["141"],["142"],"eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected",["143"],"no-native-reassign",["144"],"no-negated-in-lhs",["145"],"'HubConnectionState' is defined but never used.","import/no-anonymous-default-export","Assign arrow function to a variable before exporting as module default","ExportDefaultDeclaration",["144"],["145"],"'Switch' is defined but never used.",["144"],["145"],"jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","React Hook useEffect has a missing dependency: 'machineTileState.show'. Either include it or remove the dependency array. You can also replace multiple useState variables with useReducer if 'setMachineTileState' needs the current value of 'machineTileState.show'.",["146"],"'ref' is assigned a value but never used.",{"desc":"147","fix":"148"},{"desc":"149","fix":"150"},{"desc":"151","fix":"152"},{"desc":"147","fix":"153"},"no-global-assign","no-unsafe-negation",{"desc":"154","fix":"155"},"Update the dependencies array to be: [machineName]",{"range":"156","text":"157"},"Update the dependencies array to be: [connection, machineName]",{"range":"158","text":"159"},"Update the dependencies array to be: [connection, machineName, services]",{"range":"160","text":"161"},{"range":"162","text":"157"},"Update the dependencies array to be: [machineTileState.show, props]",{"range":"163","text":"164"},[1184,1186],"[machineName]",[1787,1799],"[connection, machineName]",[2281,2303],"[connection, machineName, services]",[2520,2522],[884,891],"[machineTileState.show, props]"]